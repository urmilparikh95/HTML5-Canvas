
<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="500" height="500" color="red"
style="border:1px solid #d3d3d3;">
Your browser does not support the canvas element.
</canvas>

<script>


var canvas = document.getElementById("myCanvas");
	var ctx = canvas.getContext("2d");
	
	
	
	
function drawStar(cx,cy,spikes,outerRadius,innerRadius){
		
		var rot=Math.PI/2*3;
		var x=cx;
		var y=cy;
		var step=Math.PI/spikes;

		ctx.strokeSyle="#000";
		ctx.beginPath();
		ctx.moveTo(cx,cy-outerRadius)
		for(i=0;i<spikes;i++){
        x=cx+Math.cos(rot)*outerRadius;
        y=cy+Math.sin(rot)*outerRadius;
        ctx.lineTo(x,y)
        rot+=step

        x=cx+Math.cos(rot)*innerRadius;
        y=cy+Math.sin(rot)*innerRadius;
        ctx.lineTo(x,y)
        rot+=step
		
		}
      
	  
		ctx.lineTo(cx,cy-outerRadius)
		ctx.stroke();
		ctx.closePath();
			
		
		}




function shape(){
    

	ctx.fillStyle = "#FFA07A";
	ctx.fillRect(25,25,450,450);

	ctx.beginPath();
	ctx.arc(250,250,40,0,2*Math.PI);	
	ctx.stroke();

	ctx.beginPath();
	ctx.arc(250,250,50,0,2*Math.PI);
	ctx.stroke();
	ctx.beginPath();

	ctx.arc(100,120,10,0,2*Math.PI);
	ctx.stroke();
	ctx.fillStyle="red";
	ctx.fill();
	ctx.beginPath();

	ctx.arc(120,100,10,0,2*Math.PI);
	ctx.stroke();
	ctx.fillStyle="red";
	ctx.fill();
	ctx.beginPath();

	ctx.arc(100,380,10,0,2*Math.PI);
	ctx.stroke();ctx.fillStyle="red";
	ctx.fill();ctx.beginPath();
	
	ctx.arc(120,400,10,0,2*Math.PI);
	ctx.stroke();ctx.fillStyle="red";
	ctx.fill();ctx.beginPath();
	
	ctx.arc(380,400,10,0,2*Math.PI);
	ctx.stroke();ctx.fillStyle="red";
	ctx.fill();ctx.beginPath();
	
	ctx.arc(400,380,10,0,2*Math.PI);
	ctx.stroke();ctx.fillStyle="red";
	ctx.fill();ctx.beginPath();
	
	ctx.arc(400,120,10,0,2*Math.PI);
	ctx.stroke();ctx.fillStyle="red";
	ctx.fill();ctx.beginPath();
	
	ctx.arc(380,100,10,0,2*Math.PI);
	ctx.stroke();ctx.fillStyle="red";
	ctx.fill();

	ctx.moveTo(120,90);
	ctx.lineTo(380,90);
	ctx.stroke();

	ctx.moveTo(120,110);
	ctx.lineTo(380,110);
	ctx.stroke();

	ctx.moveTo(120,410);
	ctx.lineTo(380,410);
	ctx.stroke();

	ctx.moveTo(120,390);
	ctx.lineTo(380,390);
	ctx.stroke();

	ctx.moveTo(90,120);
	ctx.lineTo(90,380);
	ctx.stroke();

	ctx.moveTo(110,120);
	ctx.lineTo(110,380);
	ctx.stroke();

	ctx.moveTo(410,120);
	ctx.lineTo(410,380);
	ctx.stroke();

	ctx.moveTo(390,120);
	ctx.lineTo(390,380);
	ctx.stroke();

	ctx.beginPath();
	ctx.arc(110,110,5,0,2*Math.PI);
	ctx.stroke();

	ctx.beginPath();
	ctx.arc(390,110,5,0,2*Math.PI);
	ctx.stroke();

	ctx.beginPath();
	ctx.arc(390,390,5,0,2*Math.PI);
	ctx.stroke();

	ctx.beginPath();
	ctx.arc(110,390,5,0,2*Math.PI);	
	ctx.stroke();


	ctx.moveTo(80,80);
	ctx.lineTo(200,200);
	ctx.stroke();

	ctx.moveTo(300,300);
	ctx.lineTo(420,420);
	ctx.stroke();

	ctx.moveTo(420,80);
	ctx.lineTo(300,200);
	ctx.stroke();

	ctx.moveTo(80,420);
	ctx.lineTo(200,300);
	ctx.stroke();

	ctx.rect(40, 40, 420, 420);
	ctx.stroke();

	ctx.rect(25, 25, 450, 450);
	ctx.stroke();


	ctx.beginPath();
	ctx.arc(55,55,15,0,2*Math.PI);
	ctx.stroke();
	ctx.fillStyle="black";
	ctx.fill();

	ctx.beginPath();
	ctx.arc(55,445,15,0,2*Math.PI);
	ctx.stroke();
	ctx.fillStyle="black";
	ctx.fill();

	ctx.beginPath();
	ctx.arc(445,55,15,0,2*Math.PI);	
	ctx.stroke();
	ctx.fillStyle="black";
	ctx.fill();

	ctx.beginPath();
	ctx.arc(445,445,15,0,2*Math.PI);
	ctx.stroke();
	ctx.fillStyle="black";
	ctx.fill();

	drawStar(250,250,8,40,5);

}

	
	
/*	function draw(){

	shape();
	ctx.beginPath();
	ctx.arc(x,y,10,0,2*Math.PI);
	ctx.fillStyle='rgba(250,0,0,0.4)';
	ctx.fill();
	x+=speed;
	if(x <= 50 || x >= 450){
        speed=-speed;
    }

	
	requestAnimationFrame(draw);

	} */
var x3,y3,y1,pow;

	
	
	
function settingpos(){
	
	var x = 100;
	var y = 120;
	var cl;
	var WIDTH = 400;
	var HEIGHT = 300;
	var dragok = false;
	
	function draw(){

	shape();
	var canvas1 = document.getElementById("myCanvas");
	var ctx1 = canvas.getContext("2d");
	ctx1.beginPath();
	ctx1.arc(x,y,10,0,2*Math.PI);
	ctx1.fillStyle='rgba(0,0,0,1)';
	ctx1.fill();	
	//requestAnimationFrame(draw);

	}
	
function init() {

	return cl = setInterval(draw, 10);
	
	}
	
function myMove(e){
 
	if (dragok){
 
	y = e.pageY - canvas.offsetTop;
    y1=y;
if(y>=380)
	{
	y=380;
	}

	if(y<=120) 
	{
 
	y=120;
 
	}
 
	}

 }

function myDown(e){
 
	if (e.pageY <380 && e.pageY > 119){
 
	dragok = true;
	canvas.onmousemove = myMove;

	}
	}

function myUp(){
	
	dragok = false;
	
	canvas.onmousemove = null;
	clearInterval(cl);
	settingdir();
	}
	
	init();

	canvas.onmousedown = myDown;
	canvas.onmouseup = myUp;
	
	}
	
	
function settingdir(){


	var x = 100;
	var y = y1;
	var x2=x+100,y2=y;
	var cl;

	var dragok = false;
	
function draw(){

	shape();
	ctx.beginPath();
	ctx.arc(x,y,10,0,2*Math.PI);
	ctx.fillStyle='rgba(0,0,0,1)';
	ctx.fill();	
	ctx.moveTo(x,y);
	ctx.lineTo(x2,y2);
	ctx.stroke();
	x3=x2;
	y3=y2;
	
	//requestAnimationFrame(draw);

	}
	
function init() {

	return cl = setInterval(draw, 10);
	
	}
	
function myMove(e){
 
	if (dragok){
 
	y2 = e.pageY - canvas.offsetTop;
    x2 = e.pageX - canvas.offsetTop;
	if(y2>=450)
	{
	y2=450;
	}

	if(y2<=40) 
	{
 
	y2=40;
 
	}
 
	if(x2>=450)
	{
	x2=450;
	}

	if(x2<=40) 
	{
 
	x2=40;
 
	}
 
 
	}

 }

function myDown(e){
 
	if (e.pageY <450 && e.pageY > 40 && e.pageX >40 && e.pageX <450){
 
	dragok = true;
	canvas.onmousemove = myMove;

	}
	}

function myUp(){
	
	dragok = false;
	
	canvas.onmousemove = null;
	clearInterval(cl);
	powersel();
	
	}
	
	init();

	canvas.onmousedown = myDown;
	canvas.onmouseup = myUp;

	}	
	
function powersel()
	{
	
	var x = 100;
	var y = y1;
	var x4=x3,y4=y3;
	var cl=100,cv;

	var dragok = false;
	
function draw(){
ctx.clearRect(0,0,500,500);
	shape();
	ctx.beginPath();
	ctx.arc(x,y,10,0,2*Math.PI);
	ctx.fillStyle='rgba(0,0,0,1)';
	ctx.fill();	
	ctx.moveTo(x,y);
	ctx.lineTo(x4,y4);
	ctx.stroke();
	
	var canvas4 = document.getElementById("myCanvas");
	var ctx4 = canvas.getContext("2d");

	ctx4.moveTo(cl,20);
	ctx4.lineTo(100,20);
	//ctx4.lineWidth = 15;
	ctx4.stroke();
	cl--;
	if(cl<20)
	{
	cl=100;
	}
	pow=cl;
	//requestAnimationFrame(draw);

	}
	
function init() {

	return cv = setInterval(draw, 10);
	
	}
	
function myDown(e){
 
clearInterval(cv);
	
}



function myUp(){
	
	
	
	canvas.onmousemove = null;
	
    mov();
	
	}
	
	init();

	canvas.onmousedown = myDown;
	canvas.onmouseup = myUp;

}

function mov(){
 
 var w0=a=100,q0=b=y1,w1=a0=x3,q1=b0=y3 ,flag=1,flag1=1;
var bool = true,bol = true;


function draw(){
 
	// if(flag1===1)
	//{
     
	// flag1=0;
//	bool= false;
//}

  
    var canvas5 = document.getElementById("myCanvas");
	var ctx5 = canvas.getContext("2d");

	shape();
	ctx5.beginPath();
	ctx5.arc(w0,q0,10,0,2*Math.PI);
	ctx5.fillStyle='rgba(0,0,0,.7)';
	ctx5.fill();

    // if ((q0>460)||(q0<40)) {sy=-sy ;pow=pow+100;}
	 //if ((w0>460)||(w0<40)) {sx=-sx;pow=pow+100 ;} 
	 //if ((q0==40)) {sy=-sy;pow=pow+100 ;}
	 //if ((w0==40)) {sx=-sx;pow=pow+100 ;}
	 if(w0==w1 && q0==q1) flag=0;

	 if(flag===1)
	{
	 var dx = Math.abs(w1-w0);
     var dy = Math.abs(q1-q0);
	 var err = dx-dy;
     var sx = (w0 < w1) ? 1 : -1;
     var sy = (q0 < q1) ? 1 : -1;
     
	 var e2 = 2*err;
     if (e2 >-dy){ err -= dy; w0  += sx; }
	 if (e2 < dx){ err += dx; q0  += sy; }
   }
  else
  {
  if (q0>460||q0<40) {sy=-sy ;}
  if (w0>460||w0<40) {sx=-sx ;}
   w0  += sx;
	q0  += sy;
   }
		
	//requestAnimationFrame(draw);

	}
	pow=pow/10;
function init() {

	return cl = setInterval(draw, pow);
	
	}
 init();


}


	
	settingpos();
	
	
	

</script> 

</body>
</html>